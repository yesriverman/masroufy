{% extends 'base.html' %}
{% block title %}ูุฌููุนุงุช ุงููุตุงุฑูู{% endblock %}
{% block content %}

<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header text-white " >
      <div class="row align-items-center">
        <div class="col-md-9">
          <h5 class="mb-0">๐ ูุฌููุนุงุช ุงููุตุงุฑูู</h5>
          </div>
          <div class="col-md-3 text-end">
          <a href="{% url 'group_add' %}?next={{ request.path }}" class="btn btn-outline-light">โ ุฅุถุงูุฉ ูุฌููุนุฉ</a>
        </div>
      </div>
    </div>

<!-- ๐ฑ Mobile View: Accordion Cards -->
<div class="d-block d-md-none">
  <div class="accordion" id="groupAccordion">
    {% for group in groups %}
      <div class="accordion-item mb-2">
        <h2 class="accordion-header" id="heading{{ group.id }}">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ group.id }}" aria-expanded="false" aria-controls="collapse{{ group.id }}">
            {{ group.name }}
          </button>
        </h2>
        <div id="collapse{{ group.id }}" class="accordion-collapse collapse" aria-labelledby="heading{{ group.id }}" data-bs-parent="#groupAccordion">
          <div class="accordion-body">
            <p><strong>ุงูุชุฑุชูุจ:</strong> {{ group.order }}</p>
            <div class="d-flex flex-wrap gap-2">
              <a href="{% url 'group_edit' group.id %}?next={{ request.path }}" class="btn btn-sm btn-warning">โ๏ธ ุชุนุฏูู</a>
              <a href="{% url 'group_delete' group.id %}?next={{ request.path }}" class="btn btn-sm btn-danger">๐๏ธ ุญุฐู</a>
              <a href="{% url 'move_group_up' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary">โฌ๏ธ</a>
              <a href="{% url 'move_group_down' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary">โฌ๏ธ</a>
            </div>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="alert alert-info text-center">๐ซ ูุง ุชูุฌุฏ ูุฌููุนุงุช ุญุงููุงู.</div>
    {% endfor %}
  </div>
</div>

<!-- ๐ป Desktop View: Table -->
<div class="table-responsive d-none d-md-block">
  <table class="table table-striped table-hover">
    <thead class="table-light">
      <tr>
        <th class="text-center">ุงูุชุฑุชูุจ</th>
        <th class="text-center">ุงูุงุณู</th>
        <th class="text-center">ุงูุฅุฌุฑุงุกุงุช</th>
      </tr>
    </thead>
    <tbody>
      {% for group in groups %}
        <tr>
          <td class="text-center">{{ group.order }}</td>
          <td class="text-center">{{ group.name }}</td>
          <td class="text-center">
            <a href="{% url 'group_edit' group.id %}?next={{ request.path }}" class="btn btn-sm btn-warning">โ๏ธ ุชุนุฏูู</a>
            {% comment %} <a href="{% url 'group_delete' group.id %}?next={{ request.path }}" class="btn btn-sm btn-danger">๐๏ธ ุญุฐู</a> {% endcomment %}
            
            <a href="{% url 'group_delete' group.id %}?next={{ request.path }}" class="btn btn-danger btn-sm">
  ๐๏ธ ุญุฐู
</a>
<a href="{% url 'move_group_up' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary me-1">โฌ๏ธ</a>
            <a href="{% url 'move_group_down' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary">โฌ๏ธ</a>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="3" class="text-center text-muted">๐ซ ูุง ุชูุฌุฏ ูุฌููุนุงุช ุญุงููุงู.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>



    {% comment %} <div class="card-body">
      <table class="table table-striped table-hover">
        <thead class="table-light " >
          <tr>
            <th class="text-center">ุงูุชุฑุชูุจ</th>
            <th class="text-center">ุงูุงุณู</th>
            <th class="text-center">ุงูุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody  >
          {% for group in groups %}
          <tr>
            <td class="text-center">{{ group.order }}
              
            </td>
            <td class="text-center">{{ group.name }}</td>
            <td >
              <a href="{% url 'group_edit' group.id %}?next={{ request.path }}" class="btn btn-sm btn-warning">โ๏ธ ุชุนุฏูู</a>
              <a href="{% url 'group_delete' group.id %}?next={{ request.path }}" class="btn btn-sm btn-danger">๐๏ธ ุญุฐู</a>
              
              <a href="{% url 'move_group_up' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary me-1">โฌ๏ธ</a>
              <a href="{% url 'move_group_down' group.pk %}?next={{ request.path }}" class="btn btn-sm btn-outline-secondary">โฌ๏ธ</a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3" class="text-center text-muted">๐ซ ูุง ุชูุฌุฏ ูุฌููุนุงุช ุญุงููุงู.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div> {% endcomment %}
  </div>
</div>

{% endblock %}
